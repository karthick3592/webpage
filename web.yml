---
- name: configuring web server
  hosts: web
  become: yes
  tasks:
    - name: install webserver
      dnf:
        name: httpd
        state: installed
    - name: start & enable service
      service:
        name: httpd
        state: started
        enabled: yes
    - name: copy index.html
      ansible.builtin.copy:
        src: /home/karthick/workspace/webpage/index.html
        dest: /var/www/html/index.html
    - name: Building Docker Image
      docker_image:
        name: amazonlinux
        source: build
        build:
          path: ~/home/karthick/
    -name: Creating the container
     docker_container:
       name: amazonlinux
       image: amazonlinux:latest
       ports:
         - "80:80"
         
